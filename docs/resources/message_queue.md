---
page_title: "nexaa_message_queue Resource - nexaa"
subcategory: ""
description: |-
  Message Queue resource representing a managed message queue (e.g., RabbitMQ) on Nexaa.
---

# nexaa_message_queue (Resource)

Message Queue resource representing a managed message queue (e.g., RabbitMQ) on Nexaa.

## Example Usage

```terraform
terraform {
  required_version = ">= 1.0"
  required_providers {
    nexaa = {
      source = "nexaa-cloud/nexaa"
    }
  }
}

variable "nexaa_username" {
  description = "Username for Nexaa authentication"
  type        = string
  sensitive   = true
}

variable "nexaa_password" {
  description = "Password for Nexaa authentication"
  type        = string
  sensitive   = true
}

variable "namespace" {
  description = "Namespace name"
  type        = string
}

variable "queue_name" {
  description = "Message queue name"
  type        = string
}

provider "nexaa" {
  username = var.nexaa_username
  password = var.nexaa_password
}

resource "nexaa_namespace" "example" {
  name        = var.namespace
  description = "Example namespace for message queue"
}

# Find a plan matching the desired resources
data "nexaa_message_queue_plans" "plan" {
  cpu      = 1
  memory   = 2
  storage  = 10
  replicas = 1
}

# Create a RabbitMQ message queue
resource "nexaa_message_queue" "queue" {
  namespace = nexaa_namespace.example.name
  name      = var.queue_name
  plan      = data.nexaa_message_queue_plans.plan.id
  type      = "RabbitMQ"
  version   = "3.13"
}

output "queue_id" {
  description = "The ID of the message queue"
  value       = nexaa_message_queue.queue.id
}

output "queue_state" {
  description = "The current state of the message queue"
  value       = nexaa_message_queue.queue.state
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the message queue
- `namespace` (String) Name of the namespace the message queue belongs to
- `plan` (String) The plan ID for the message queue
- `type` (String) The type of message queue (e.g., 'RabbitMQ')
- `version` (String) The version of the message queue software

### Optional

- `allowlist` (List of String) List of IP addresses allowed to access the message queue

### Read-Only

- `id` (String) Identifier of the message queue in the format 'namespace/name'
- `last_updated` (String) Timestamp of the last Terraform update of the message queue
- `locked` (Boolean) If the message queue is locked it can't be deleted
- `state` (String) The current state of the message queue

## Import

Import is supported using the following syntax:

```shell
terraform import nexaa_message_queue.queue "namespace/queue_name"
```

## Plan Selection

Message queue plans define the resources allocated to your queue (CPU, memory, storage, replicas).

Use the `nexaa_message_queue_plans` data source to find a plan matching your requirements:

```hcl
data "nexaa_message_queue_plans" "plan" {
  cpu      = 1
  memory   = 2
  storage  = 10
  replicas = 1
}

resource "nexaa_message_queue" "queue" {
  namespace = "my-namespace"
  name      = "my-queue"
  plan      = data.nexaa_message_queue_plans.plan.id
  type      = "RabbitMQ"
  version   = "3.13"
  allowlist = [
    "192.168.1.1",
    "0.0.0.0/0"
  ]
}
```
